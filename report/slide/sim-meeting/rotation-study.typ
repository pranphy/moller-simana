#import "@local/tymer:0.1.0": *
#show: slides.with(
    authors: [Prakash Gautam\   #text(font:"Noto serif", fill: white.darken(71%))[〈 प्रकाश गौतम|  پرکاش گوتم 〉]],
    institute: Institute("University of Virginia",short:"UVa"),
    short-authors: "P. Gautam",
    //title: "Spectrometer, Beamline, Simulation and Timeline",
    title: "Alternatives to Parser Changes for Rotation Order",
    location: "MOLLER Simulation Meeting",
    //thm: (fg:black.darken(00%),bg:white.lighten(00%),ac: orange),
    //date: "2024-01-17",
    aspect: 16/9
)

#titlepage()


#slide(title: "Rotation Order: Alternatives to Praser Change")[
  -  Use to step rotation 
  - Transform the angles so that xyz order produces correct rotation.
]

#set rect(
  inset: 8pt,
  //fill: black.lighten(18%),
  width: 100%,
)


#slide(title: "Two Step Rotation")[
  #v(0.6em)
  #show raw: set text(size: 0.50em)
  #grid(gutter: 3%,columns:(50%,50%),
  [
    #rect[```xml
      <structure>
          <volume name="FFSeg1_R5-FF-Quartz_L">
              <materialref ref="Quartz"/>
              <solidref ref="FFSeg1_R5-FF-Quartz_L_solid"/>
              <auxiliary auxtype="Color" auxvalue="magenta"/>
              <auxiliary auxtype="SensDet" auxvalue="mainDetectorSD" />
              <!--<auxiliary auxtype="DetNo" auxvalue="150151"/>-->
              <auxiliary auxtype="DetNo" auxvalue="1050001"/>
           </volume>
      </structure>

      <setup name="Default" version="1.0">
              <world ref="FFSeg1_R5-FF-Quartz_L"/>
      </setup>
    ```
  ]
 - Initial gdml structure of one tile  on the left.
 - Changes to that tile gdml on the right.
 - Changes rotation order $R_y (45) arrow R_x (25) arrow R_z (30)$
] ,

  rect[```xml
  <structure>
    <volume name="FFSeg1_R5-FF-Quartz_L">
      <materialref ref="Quartz"/>
      <solidref ref="FFSeg1_R5-FF-Quartz_L_solid"/>
      <auxiliary auxtype="Color" auxvalue="yellow"/>
      <auxiliary auxtype="SensDet" auxvalue="mainDetectorSD" />
      <!--<auxiliary auxtype="DetNo" auxvalue="150151"/>-->
      <auxiliary auxtype="DetNo" auxvalue="1050001"/>
    </volume>
    <volume name="fseg_test">
      <materialref ref="G4_AIR"/>
      <solidref ref="FFSeg1_R5-FF-Quartz_L_solid"/>
      <physvol>
        <volumeref ref="FFSeg1_R5-FF-Quartz_L"/>
        <rotation unit="deg" x="0" y="45" z="0"/>
      </physvol>
    </volume>
  </structure>

  <setup name="Default" version="1.0">
    <world ref="fseg_test"/>
  </setup>
  ```

  #rect[```xml
    <physvol>
      <file name="detector/ThinQuartz/DetectorArray/FFSeg1_R5-FF-Quartz_R.gdml"/>
      <rotation unit="deg" name="R5-FF-Quartz_R_rot" x="25" y="0" z="30" />
    </physvol>
  ```]

]

)
]


#slide(title: "Potential Problem with Two Step Rotation")[
  #grid(columns:(60%,40%),
  [
    - Needs the change in structure:
      - *makes it look more complicated??*
    - There is a relative rotation between mother volume and its comtent.
       - The mother volume has to be big enough to hold its content even after totation.
       - Potentially creates overlap complications.


  ],
  image("./asset/image/mother-relative-rotation-qtz.png",width:90%))

  - This didn't seem like a likely solutions, so haven't done any tests with it.

]

#slide(title: "Transform the angles")[
  - Say $x_1$ $y_1$ and $z_1$ are three rotation angles that produce correct rotation on $arrow(X)$
  $
    arrow(X)prime  = R_x (x_1) dot R_y (y_1) dot R_z (z_1) dot arrow(X)
  $
  - If we want $x_2$ $y_2$ and $z_2$ angles produce same rotation under different order
  $
    arrow(X)prime  = R_z (z_2) dot R_y (y_2) dot R_x (x_2) dot arrow(X)
  $

  We can solve for ($x_2$, $y_z$, $z_2$) by using:
  $
     R_z (z_2) dot R_y (y_2) dot R_x (x_2)  = R_x (x_1) dot R_y (y_1) dot R_z (z_1)\
  $
  Or equivalently
  $
     R_x^(-1)(x_2) dot  R_y^(-1)(y_2) dot R_z^(-1)(z_2) dot R_x (x_1) dot R_y (y_1) dot R_z (z_1) = I\
  $
  - Solving this non-linear system of equations will give $x_2$ $y_2$ $z_2$ in terms of $x_1$ $y_1$ $z_1$ angles.
]


#slide(title: "Implementation of transformed angles")[
  - I wrote a numerical solver to solve those numerical equations and transform the `DetectorArray.gdml`
  Example: (`geometry/detectors/ThinQuartz/DetectorArray/DetectorArray.gdml`):
  #show raw: set text(size: 0.76em)
  ```xml
  <rotation unit="deg" name="R3-FF-Quartz_rot" x="1.3035" y="-2.7046" z="64.2551" />
  ```
  changes to 
  ```xml
  <rotation unit="deg" name="R3-FF-Quartz_rot" x="-1.8704" y="-2.3487" z="64.2627" />
  ```
  - It has been tested by Xiang and produces identical results to using (`<orotation>`) tag discussed last week.

  - Potentially has precision errors due to being numerical solution.

]



#slide(title: "Summary")[
  - The `<orotation>` tag with the modified remoll geml parser breaks the gdml schema. Any potential use of the gdml file that use this tag might not be compatible with external tools.
  - Alternative to parser change to achieve correct rotation order:
     - Two step rotation with individual mother volumes for each Quartz tiles.j
     - Transform the angles.
  - Two step solution will likely result in overlap complications(?).
  - Transforming angles require solution to non-linear equation, using numerical solver may cause precision erros (analytical solution seemed very cumbersome).
  - Trasnformed angles has been tested and produces correct results.
]




#backup(text(size:50pt)[ Backup ])

#slide(title: "Angle Changes for Detector Array")[
  #show raw: set text(size: 0.07em)
  #v(0.5em)
  #columns(4, gutter: 11pt)[
  ```txt
R5-FF-Quartz_L_rot -> (2.99763410272428, 0.0, -270.0) --> (-6.867973264822276e-16, -2.9976341027242803, 90.00000000000001)
R5-FF-Quartz_R_rot -> (2.99763410272428, 0.0, 90.0) --> (4.8081904991601416e-17, -2.9976341027242803, 90.0)
R5-BF-Quartz_C_rot -> (2.99763410272428, 0.0, 90.0) --> (4.8081904991601416e-17, -2.9976341027242803, 90.0)
R4-FF-Quartz_rot -> (2.99708537519869, 0.0, 90.0) --> (4.819025942806596e-17, -2.9970853751986897, 90.0)
R3-FF-Quartz_rot -> (3.00224758033941, 0.0, 90.0) --> (4.7166443298982845e-17, -3.00224758033941, 90.0)
R2-FF-Quartz_rot -> (3.00224758033953, 0.0, 90.0) --> (4.7166443298982845e-17, -3.00224758033953, 90.0)
R1-FF-Quartz_rot -> (2.99230923889332, 0.0, 90.0) --> (4.912799628094187e-17, -2.9923092388933195, 90.0)
R6-FF-Quartz_rot -> (2.99973858911886, 0.0, 90.0) --> (4.7665371343278705e-17, -2.9997385891188606, 90.0)
R5-FF-Quartz_C_rot -> (3.00106394456493, 0.0, 77.1363693023937) --> (0.6687121626584878, -2.9256789929672347, 77.11929226325753)
R5-BF-Quartz_R_rot -> (3.00102144041703, 0.0, 77.1363693023936) --> (0.6687026751878012, -2.9256375583804837, 77.11929274749967)
R5-BF-Quartz_L_rot -> (3.0012502338421, 0.0, 77.1363693023936) --> (0.6687537448215588, -2.9258605945180616, 77.11929014081538)
R4-BF-Quartz_rot -> (3.00122527969865, 0.0, 77.1394584060375) --> (0.66859030070277, -2.9258723188164684, 77.12238335026763)
R3-BF-Quartz_rot -> (2.99487897748325, 0.0, 77.1398647098126) --> (0.6671533453772913, -2.9196903667510377, 77.12286236834515)
R2-BF-Quartz_rot -> (2.99496225842162, 0.0, 77.1399764002307) --> (0.6671662333387725, -2.9197728537172245, 77.12297324974068)
R1-BF-Quartz_rot -> (3.0036511046504, 0.0, 77.1380297370479) --> (0.6692047234119723, -2.928220444787714, 77.12092526728834)
R6-BF-Quartz_rot -> (2.99985199406693, 0.0, 77.1396680098295) --> (0.6682731310363426, -2.9245360182544884, 77.12260885258908)
R5-FF-Quartz_L_rot -> (2.99756475056213, 0.0, 64.2869393190475) --> (1.3015008274781008, -2.700508210201415, 64.2562606583546)
R5-FF-Quartz_R_rot -> (2.99748194539466, 0.0, 64.2869393190475) --> (1.3014648213314157, -2.7004336238018998, 64.25626235477196)
R5-BF-Quartz_C_rot -> (2.99756475056213, 0.0, 64.2869393190475) --> (1.3015008274781008, -2.700508210201415, 64.2562606583546)
R4-FF-Quartz_rot -> (2.99718324709623, 0.0, 64.2843011655183) --> (1.3014593247559465, -2.700104655598867, 64.25362806926543)
R3-FF-Quartz_rot -> (3.0020792280983, 0.0, 64.2859204923853) --> (1.3035119786275695, -2.7045514284046392, 64.25514840089888)
R2-FF-Quartz_rot -> (3.00224197032247, 0.0, 64.2867348616001) --> (1.3035442851023598, -2.70471654289257, 64.25596012798783)
R1-FF-Quartz_rot -> (2.99215903683614, 0.0, 64.28552100451) --> (1.299217032094561, -2.6956068769382164, 64.25495178507025)
R6-FF-Quartz_rot -> (2.99985791843856, 0.0, 64.2864429654171) --> (1.3025213904368096, -2.70256248823325, 64.25571688195907)
R5-FF-Quartz_C_rot -> (3.00125096943197, 0.0, 51.4296691432744) --> (1.8722510571644355, -2.346090960550682, 51.391328833334626)
R5-BF-Quartz_R_rot -> (3.00110158279097, 0.0, 51.41960449999) --> (1.872569839975161, -2.3456453828676307, 51.38126494579241)
R5-BF-Quartz_L_rot -> (3.00125095792547, 0.0, 51.4252035776925) --> (1.8724339004356088, -2.3459450493626197, 51.386861908197936)
R4-BF-Quartz_rot -> (3.00117179784088, 0.0, 51.4254732646494) --> (1.8723734162605723, -2.3458920070404363, 51.387133701032084)
R3-BF-Quartz_rot -> (2.99489119518104, 0.0, 51.4254350380914) --> (1.8684522624027982, -2.340983215646678, 51.38725586002822)
R2-BF-Quartz_rot -> (2.99541711274725, 0.0, 51.4256749419164) --> (1.8687709333462805, -2.3414019813482136, 51.387482418378774)
R1-BF-Quartz_rot -> (3.00363667055131, 0.0, 51.425963014265) --> (1.873892855812156, -2.3478340240926845, 51.3875605588051)
R6-BF-Quartz_rot -> (2.99981480575516, 0.0, 51.4255418585876) --> (1.8715230615153846, -2.344833919998841, 51.387236999894824)
R5-FF-Quartz_L_rot -> (2.99745726760163, 0.0, 38.5703308567256) --> (2.3443734335447672, -1.8683178608297586, 38.53209912283528)
R5-FF-Quartz_R_rot -> (2.99757625130764, 0.0, 38.5747964223075) --> (2.3443210020602865, -1.868574650390978, 38.53656028815564)
R5-BF-Quartz_C_rot -> (2.99757625130764, 0.0, 38.5747964223075) --> (2.3443210020602865, -1.868574650390978, 38.53656028815564)
R4-FF-Quartz_rot -> (2.99721832550766, 0.0, 38.5728495018984) --> (2.3441043346502295, -1.8682720278526916, 38.53462309560885)
R3-FF-Quartz_rot -> (3.002276786191, 0.0, 38.5722072982198) --> (2.348084300932634, -1.8713970696991935, 38.533851909671654)
R2-FF-Quartz_rot -> (3.00227678985119, 0.0, 38.5723292704693) --> (2.3480803218583373, -1.8714020692186843, 38.533973844450415)
R1-FF-Quartz_rot -> (2.99219327349989, 0.0, 38.5713864601968) --> (2.340219097907283, -1.865081739128935, 38.53328860917648)
R6-FF-Quartz_rot -> (2.99981480575516, 0.0, 38.571361294392) --> (2.346185010738932, -1.8698286788339458, 38.533069063753395)
R5-FF-Quartz_C_rot -> (3.00120918624295, 0.0, 25.7066077069091) --> (2.7046357416736058, -1.3013301488887035, 25.67588616839105)
R5-BF-Quartz_R_rot -> (3.00120918624295, 0.0, 25.7130606809524) --> (2.704489299466102, -1.3016346388781321, 25.682333617899957)
R5-BF-Quartz_L_rot -> (3.00120919843714, 0.0, 25.7130606809524) --> (2.704489310458473, -1.301634644162865, 25.682333617650258)
R4-BF-Quartz_rot -> (3.00107722903831, 0.0, 25.7121081286902) --> (2.7043919657272393, -1.3015325069871173, 25.681384583004892)
R3-BF-Quartz_rot -> (2.9949274163605, 0.0, 25.7113625977412) --> (2.6988651049664134, -1.2988322748695946, 25.680765479742195)
R2-BF-Quartz_rot -> (2.99492742409938, 0.0, 25.711876407795) --> (2.698853475251613, -1.2988564717731275, 25.6812788516286)
R1-BF-Quartz_rot -> (3.00414335225381, 0.0, 25.7114245133361) --> (2.707171455326897, -1.302828971880277, 25.680638741181472)
R6-BF-Quartz_rot -> (2.99985791528861, 0.0, 25.7115715952134) --> (2.7033049864158243, -1.3009787922124114, 25.680873469535193)
R5-FF-Quartz_L_rot -> (2.99760573194198, 0.0, 12.8566480785278) --> (2.922587216151081, -0.6667155922669825, 12.839640027839016)
R5-FF-Quartz_R_rot -> (2.99741967693589, 0.0, 12.8636306976064) --> (2.9223246339572824, -0.6670302398969968, 12.846616149497477)
R5-BF-Quartz_C_rot -> (2.99760573194198, 0.0, 12.8550545545998) --> (2.9226057345938035, -0.666634343558915, 12.838048468826834)
R4-FF-Quartz_rot -> (2.9969297088006, 0.0, 12.8579191418416) --> (2.92191328238643, -0.6666301567602005, 12.840917193847067)
R3-FF-Quartz_rot -> (3.00211414891051, 0.0, 12.8601352901874) --> (2.9269426087263386, -0.6678955319230672, 12.843071736131803)
R2-FF-Quartz_rot -> (3.00247986696855, 0.0, 12.8569029663613) --> (2.927336833267059, -0.667811752356674, 12.839839253803932)
R1-FF-Quartz_rot -> (2.99220764800981, 0.0, 12.8579105472007) --> (2.917309105195253, -0.665580263571311, 12.840962136653165)
R6-FF-Quartz_rot -> (2.99985199386394, 0.0, 12.8560351387451) --> (2.924784589291831, -0.6671834878827738, 12.839002349488917)
R5-FF-Quartz_C_rot -> (3.00108755974753, 0.0, 0.0) --> (3.0010875597473987, 0.0, 0.0)
R5-BF-Quartz_R_rot -> (3.00127863009874, 0.0, 0.0) --> (3.001278630098609, 0.0, 0.0)
R5-BF-Quartz_L_rot -> (3.00108755974753, 0.0, 0.0) --> (3.0010875597473987, 0.0, 0.0)
R4-BF-Quartz_rot -> (3.0011722674036, 0.0, -0.00268994269818279) --> (3.001172264102133, 0.0001408356838703895, -0.002686253344282739)
R3-BF-Quartz_rot -> (2.99509535773248, 0.0, 0.0) --> (2.995095357732351, 0.0, 0.0)
R2-BF-Quartz_rot -> (2.99509537795284, 0.0, 0.0) --> (2.9950953779527114, 0.0, 0.0)
R1-BF-Quartz_rot -> (3.00375307004064, 0.0, -0.00339028280751563) --> (3.0037530647917823, 0.00017765546298494395, -0.003385624912987911)
R6-BF-Quartz_rot -> (2.99973858172374, 0.0, 0.0) --> (2.9997385817236095, 0.0, 0.0)
R5-FF-Quartz_L_rot -> (2.99760573194198, 0.0, -12.8566480785279) --> (2.9225872161510793, 0.6667155922669875, -12.839640027839115)
R5-FF-Quartz_R_rot -> (2.99760573194198, 0.0, -12.8550545545998) --> (2.9226057345938035, 0.666634343558915, -12.838048468826834)
R5-BF-Quartz_C_rot -> (2.99746213827367, 0.0, -12.8550545545998) --> (2.9224657210018363, 0.6666024376157337, -12.838050097804228)
R4-FF-Quartz_rot -> (2.99723355481482, 0.0, -12.8579191418416) --> (2.922209549538756, 0.6666976849582766, -12.840913746714198)
R3-FF-Quartz_rot -> (3.00219761751585, 0.0, -12.8571954237482) --> (2.9270582185856733, 0.6677639632672132, -12.840134556970703)
R2-FF-Quartz_rot -> (3.00211415855684, 0.0, -12.8537822553654) --> (2.9270165640799815, 0.6675711276895503, -12.836726558329229)
R1-FF-Quartz_rot -> (2.99220764540017, 0.0, -12.8553596674151) --> (2.9173386951580516, 0.6654504361951673, -12.838414390934009)
R6-FF-Quartz_rot -> (2.99985199787107, 0.0, -12.8560351387451) --> (2.9247845931990413, 0.6671834887732073, -12.83900234944342)
R5-FF-Quartz_C_rot -> (3.00112628845284, 0.0, -25.7161682809677) --> (2.704344038408946, 1.301745337797841, -25.685440255611635)
R5-BF-Quartz_R_rot -> (3.00112628845284, 0.0, -25.7161682809677) --> (2.704344038408946, 1.301745337797841, -25.685440255611635)
R5-BF-Quartz_L_rot -> (3.00129843586788, 0.0, -25.7195129551217) --> (2.7044232879908505, 1.3019777675299498, -25.68877854176539)
R4-BF-Quartz_rot -> (3.00117730181794, 0.0, -25.7156988344817) --> (2.7044006786165062, 1.3017452985944808, -25.684970166239534)
R3-BF-Quartz_rot -> (2.99508979340774, 0.0, -25.7153879225717) --> (2.6989203047605343, 1.299092188219558, -25.684784055005792)
R2-BF-Quartz_rot -> (2.99492741822156, 0.0, -25.7161490738739) --> (2.6987566948665673, 1.2990576503513993, -25.685547875875354)
R1-BF-Quartz_rot -> (3.00360229565095, 0.0, -25.71447899549) --> (2.706614335712121, 1.3027387423649333, -25.68370169308195)
R6-BF-Quartz_rot -> (2.99997462941771, 0.0, -25.7145131578614) --> (2.703343463369161, 1.3011681109919335, -25.683810127438626)
R5-FF-Quartz_L_rot -> (2.99757626091407, 0.0, -38.5647311053794) --> (2.344649072928648, 1.8681629087651923, -38.52649804689123)
R5-FF-Quartz_R_rot -> (2.99757625130764, 0.0, -38.5747964223074) --> (2.3443210020602896, 1.868574650390974, -38.53656028815554)
R5-BF-Quartz_C_rot -> (2.99757625130764, 0.0, -38.5703308567256) --> (2.3444665591627096, 1.8683919820819637, -38.532096086645275)
R4-FF-Quartz_rot -> (2.99718443772954, 0.0, -38.5707464403004) --> (2.344146352586596, 1.8681648987406836, -38.532521540992256)
R3-FF-Quartz_rot -> (3.00227678619113, 0.0, -38.5703270874121) --> (2.3481456814543886, 1.871320035832746, -38.53197227512387)
R2-FF-Quartz_rot -> (3.00227678676049, 0.0, -38.5698267347991) --> (2.3481620157613605, 1.8712995359681281, -38.53147207587564)
R1-FF-Quartz_rot -> (2.99219327349989, 0.0, -38.5713864601968) --> (2.340219097907283, 1.865081739128935, -38.53328860917648)
R6-FF-Quartz_rot -> (2.99981481142005, 0.0, -38.5696383727872) --> (2.3462412139024216, 1.8697581499141263, -38.53134666924995)
R5-FF-Quartz_C_rot -> (3.00107132519304, 0.0, -51.4252035776925) --> (1.872321705030252, 2.3458046884017056, -51.38686650055806)
R5-BF-Quartz_R_rot -> (3.00122070860362, 0.0, -51.4296691432744) --> (1.872232158631492, 2.346067313951129, -51.39132960695296)
R5-BF-Quartz_L_rot -> (3.00107132519304, 0.0, -51.4296691432743) --> (1.8721388655137432, 2.345950581859002, -51.39133342582643)
R4-BF-Quartz_rot -> (3.00113787626666, 0.0, -51.4309306419304) --> (1.8721287736661045, 2.3460437990684633, -51.39259360746845)
R3-BF-Quartz_rot -> (2.99512450981639, 0.0, -51.4296729125879) --> (1.8684248114148374, 2.3413037031163126, -51.3914890673271)
R2-BF-Quartz_rot -> (2.99512451038444, 0.0, -51.4301732652009) --> (1.8684043650484263, 2.3413200171603856, -51.39198957173036)
R1-BF-Quartz_rot -> (3.00363666277063, 0.0, -51.4307272403967) --> (1.8736976138128525, 2.347989798997904, -51.39232623843731)
R6-BF-Quartz_rot -> (2.99981481142005, 0.0, -51.4303616272128) --> (1.8713258041163112, 2.3449913222154026, -51.3920582348007)
R5-FF-Quartz_L_rot -> (2.99748194539466, 0.0, -64.2869393190477) --> (1.3014648213314066, 2.700433623801904, -64.25626235477218)
R5-FF-Quartz_R_rot -> (2.9976538845308, 0.0, -64.2804870448784) --> (1.3018438467168483, 2.7004419218828923, -64.24980105145869)
R5-BF-Quartz_C_rot -> (2.9976538845308, 0.0, -64.2869393190476) --> (1.301539585580491, 2.700588497240284, -64.25625883222753)
R4-FF-Quartz_rot -> (2.99709039828762, 0.0, -64.2830448738053) --> (1.3014781775810365, 2.6999924906228965, -64.25237260786687)
R3-FF-Quartz_rot -> (3.00241718339704, 0.0, -64.2818951926889) --> (1.3038490558482914, 2.704764250345131, -64.25111272012161)
R2-FF-Quartz_rot -> (3.00257997184032, 0.0, -64.2838509261261) --> (1.303827479663861, 2.7049553775472086, -64.25306678703423)
R1-FF-Quartz_rot -> (2.99189951536471, 0.0, -64.2840499900813) --> (1.2991734135676183, 2.695339765367108, -64.25348482719153)
R6-FF-Quartz_rot -> (2.99974950369418, 0.0, -64.2835014161884) --> (1.3026130566467984, 2.702397968098562, -64.25277504146052)
R5-FF-Quartz_C_rot -> (3.00129273781463, 0.0, -77.1449454454002) --> (0.6683249188199, 2.926002095632156, -77.12787640995214)
R5-BF-Quartz_R_rot -> (3.00125022152464, 0.0, -77.1449454454001) --> (0.6683154348539908, 2.9259606477893385, -77.12787689406882)
R5-BF-Quartz_L_rot -> (3.00125022152464, 0.0, -77.1433519214721) --> (0.6683968773865244, 2.925942059729578, -77.12628139857236)
R4-BF-Quartz_rot -> (3.00127297079991, 0.0, -77.1447033650763) --> (0.6683328819349773, 2.925980001686254, -77.1276342551896)
R3-BF-Quartz_rot -> (2.99532711631145, 0.0, -77.145744511552) --> (0.6669534360293577, 2.9201956928429986, -77.12874432179454)
R2-BF-Quartz_rot -> (2.9954103878198, 0.0, -77.1462177446346) --> (0.6669478705493441, 2.92028238060885, -77.12921719186544)
R1-BF-Quartz_rot -> (3.00423660604274, 0.0, -77.1413349912903) --> (0.6691663071699646, 2.928829823093824, -77.1242279425716)
R6-BF-Quartz_rot -> (2.99990759573402, 0.0, -77.1439648612549) --> (0.6680660339312603, 2.924640329671823, -77.12691038221195)
R5-FF-Quartz_L_rot -> (2.99763410272428, 0.0, -90.0) --> (4.8081904991601416e-17, 2.9976341027242803, -90.0)
R5-FF-Quartz_R_rot -> (2.99744326354666, 0.0, -90.0) --> (4.8119618733675405e-17, 2.9974432635466606, -90.0)
R5-BF-Quartz_C_rot -> (2.99763410272428, 0.0, -90.0) --> (4.8081904991601416e-17, 2.9976341027242803, -90.0)
R4-FF-Quartz_rot -> (2.99708537849572, 0.0, -89.9973100573055) --> (0.00014083671080858076, 2.997085375189694, -89.99730637295106)
R3-FF-Quartz_rot -> (3.00224758449006, 0.0, -89.9969844326845) --> (0.00015815780527709723, 3.0022475803280133, -89.99698028807241)
R2-FF-Quartz_rot -> (3.00224758501595, 0.0, -90.0) --> (4.7166443298982845e-17, 3.00224758501595, -90.0)
R1-FF-Quartz_rot -> (2.9917111518538, 0.0, -90.0) --> (4.92448105389084e-17, 2.991711151853801, -90.0)
R6-FF-Quartz_rot -> (2.99973859133358, 0.0, -89.9977963161106) --> (0.00011548009706492259, 2.9997385891128094, -89.99779329242145)
R5-FF-Quartz_C_rot -> (3.00125022152464, 0.0, -102.856648078528) --> (-0.6683968773865057, 2.925942059729543, -102.87371860142774)
R5-BF-Quartz_R_rot -> (3.00106394680686, 0.0, -102.862036367149) --> (-0.6686306867496153, 2.9256976013926117, -102.87911143422146)
R5-BF-Quartz_L_rot -> (3.00125022494929, 0.0, -102.856648078528) --> (-0.668396878150524, 2.925942063068109, -102.87371860146675)
R4-BF-Quartz_rot -> (3.00127296912344, 0.0, -102.857919141842) --> (-0.6684669144271154, 2.9259494071598104, -102.87499149638289)
R3-BF-Quartz_rot -> (2.99496225778731, 0.0, -102.857195423748) --> (-0.6670219944134582, 2.9198057807763633, -102.87419508992605)
R2-BF-Quartz_rot -> (2.99532710357597, 0.0, -102.860023599769) --> (-0.6672476481748524, 2.9201285232428007, -102.87703089758746)
R1-BF-Quartz_rot -> (3.00365109205349, 0.0, -102.85866500871) --> (-0.6690356618698277, 2.9282590315475847, -102.87576538269631)
R6-BF-Quartz_rot -> (2.99985199386394, 0.0, -102.858183582847) --> (-0.6681633819615739, 2.9245610735225074, -102.87524008462462)
R5-FF-Quartz_L_rot -> (2.99756474288783, 0.0, -115.713060680952) --> (-1.3015008241410626, 2.7005082032888335, -115.74373934148768)
R5-FF-Quartz_R_rot -> (2.99756475506728, 0.0, -115.716168280968) --> (-1.3016473680220673, 2.7004376257474973, -115.74684959392607)
R5-BF-Quartz_C_rot -> (2.99756474288783, 0.0, -115.706607706909) --> (-1.3011965224819317, 2.700654755919702, -115.73728085901686)
R4-FF-Quartz_rot -> (2.99718324993159, 0.0, -115.71210812869) --> (-1.301290027147194, 2.70018620782112, -115.74277816120738)
R3-FF-Quartz_rot -> (3.00224196954869, 0.0, -115.711362597741) --> (-1.3034544288000753, 2.70475982193841, -115.74213570238271)
R2-FF-Quartz_rot -> (3.00224197032247, 0.0, -115.711876407795) --> (-1.3034786962495892, 2.7047481345763167, -115.74264995239001)
R1-FF-Quartz_rot -> (2.99215901358134, 0.0, -115.712895402685) --> (-1.2991424820019484, 2.695642760825071, -115.74346327495265)
R6-FF-Quartz_rot -> (2.99985791528861, 0.0, -115.712527665644) --> (-1.302472811464518, 2.702585883883473, -115.74325286911967)
R5-FF-Quartz_C_rot -> (3.00125096921121, 0.0, -128.574796422307) --> (-1.8724339074823164, 2.345945058180092, -128.61313809208926)
R5-BF-Quartz_R_rot -> (3.00122071822172, 0.0, -128.570330856726) --> (-1.8722321646360682, 2.346067321465983, -128.60867039329244)
R5-BF-Quartz_L_rot -> (3.0012207182216, 0.0, -128.570330856726) --> (-1.8722321646359936, 2.34606732146589, -128.60867039329244)
R4-BF-Quartz_rot -> (3.00130540202344, 0.0, -128.572849501898) --> (-1.8723881851189002, 2.3460512048500504, -128.6111919705436)
R3-BF-Quartz_rot -> (2.99512451020864, 0.0, -128.57220729822) --> (-1.8685016444873899, 2.3412423990441176, -128.61039171383337)
R2-BF-Quartz_rot -> (2.99512450982552, 0.0, -128.571822482625) --> (-1.8684859193292753, 2.341254945883675, -128.61000678151197)
R1-BF-Quartz_rot -> (3.00326233860396, 0.0, -128.571386460197) --> (-1.873550455091765, 2.347628184956645, -128.6097785303035)
R6-BF-Quartz_rot -> (2.99981480575516, 0.0, -128.571012343115) --> (-1.8713820350590773, 2.3449464501261916, -128.6093161535256)
R5-FF-Quartz_L_rot -> (2.99745726760163, 0.0, -141.429669143274) --> (-2.344373433544572, 1.868317860829743, -141.46790087716434)
R5-FF-Quartz_R_rot -> (2.99757626624382, 0.0, -141.425203577693) --> (-2.3443210137495782, 1.8685746596963746, -141.463439712226)
R5-BF-Quartz_C_rot -> (2.99745726760163, 0.0, -141.424070264651) --> (-2.344190940562967, 1.8685468775168046, -141.46230370851578)
R4-FF-Quartz_rot -> (2.9970848950645, 0.0, -141.425473264649) --> (-2.343945243029326, 1.868257498906972, -141.4636967785266)
R3-FF-Quartz_rot -> (3.00227678658426, 0.0, -141.425435038091) --> (-2.348007330428304, 1.871493662624985, -141.46379114900878)
R2-FF-Quartz_rot -> (3.00227678985119, 0.0, -141.427670729531) --> (-2.348080321858164, 1.8714020692186422, -141.46602615554986)
R1-FF-Quartz_rot -> (2.99219328386572, 0.0, -141.426499643632) --> (-2.3401503263591823, 1.8651680614066448, -141.46459813832382)
R6-FF-Quartz_rot -> (2.99981480639075, 0.0, -141.425541858588) --> (-2.346083992091203, 1.869955452780591, -141.46383503658748)
R5-FF-Quartz_C_rot -> (3.00112628845284, 0.0, -154.286939319048) --> (-2.7044145718098305, 1.3015987125308461, -154.31766468462118)
R5-BF-Quartz_R_rot -> (3.00120918624295, 0.0, -154.286939319048) --> (-2.704489299466111, 1.3016346388781135, -154.31766638210044)
R5-BF-Quartz_L_rot -> (3.00112628679949, 0.0, -154.286939319048) --> (-2.7044145703194302, 1.301598711814315, -154.31766468458733)
R4-BF-Quartz_rot -> (3.00127027957631, 0.0, -154.28789187131) --> (-2.7045659912258304, 1.301616168578761, -154.31861936995037)
R3-BF-Quartz_rot -> (2.99508977792412, 0.0, -154.287329086263) --> (-2.698981833909157, 1.2989642425520902, -154.317930637328)
R2-BF-Quartz_rot -> (2.99508977569805, 0.0, -154.283850926126) --> (-2.6989030468317927, 1.2991280212381229, -154.31445544214384)
R1-BF-Quartz_rot -> (3.00334178529363, 0.0, -154.288575486664) --> (-2.7064488776413103, 1.3024816090713993, -154.31934483197946)
R6-BF-Quartz_rot -> (2.99974950490777, 0.0, -154.288428404787) --> (-2.703207259434171, 1.3009318116762714, -154.31912431167157)
R5-FF-Quartz_L_rot -> (2.99760572852145, 0.0, -167.143351921472) --> (-2.922587212815851, 0.6667155915068719, -167.16035997212197)
R5-FF-Quartz_R_rot -> (2.9975632631192, 0.0, -167.143351921472) --> (-2.9225458064219794, 0.6667061547133394, -167.1603594903156)
R5-BF-Quartz_C_rot -> (2.99760573194198, 0.0, -167.143351921472) --> (-2.922587216151079, 0.6667155922669925, -167.1603599721608)
R4-FF-Quartz_rot -> (2.99692970602534, 0.0, -167.139458406038) --> (-2.9218828029718305, 0.6667638346957742, -167.15646358600884)
R3-FF-Quartz_rot -> (3.00247986612233, 0.0, -167.139193516361) --> (-2.9272913854702263, 0.6680111010679539, -167.15626205761453)
R2-FF-Quartz_rot -> (3.00211414876196, 0.0, -167.139976400231) --> (-2.926943908908897, 0.6678898286890312, -167.15703981615877)
R1-FF-Quartz_rot -> (2.9920745328318, 0.0, -167.14133499129) --> (-2.9171705572233737, 0.6655890755984836, -167.15828282096567)
R6-FF-Quartz_rot -> (2.99979637796569, 0.0, -167.13966800983) --> (-2.924680380941841, 0.6673903700620193, -167.15670547346178)
R5-FF-Quartz_C_rot -> (3.00127863009874, 0.0, -180.0) --> (-3.0012786300987404, 3.6738204758281067e-16, -180.0)
R5-BF-Quartz_R_rot -> (3.00127863009874, 0.0, -180.0) --> (-3.0012786300987404, 3.6738204758281067e-16, -180.0)
R5-BF-Quartz_L_rot -> (3.00127863009874, 0.0, -180.0) --> (-3.0012786300987404, 3.6738204758281067e-16, -180.0)
R4-BF-Quartz_rot -> (3.00117227416171, 0.0, -180.0) --> (-3.0011722741617097, 3.6736904069518936e-16, -180.0)
R3-BF-Quartz_rot -> (2.99509537328742, 0.0, -180.0) --> (-2.9950953732874206, 3.666258588978655e-16, -180.0)
R2-BF-Quartz_rot -> (2.99509537328754, 0.0, -180.0) --> (-2.99509537328754, 3.6662585892100706e-16, -180.0)
R1-BF-Quartz_rot -> (3.00375307004064, 0.0, -180.0) --> (-3.00375307004064, 3.6768466088573134e-16, -180.0)
R6-BF-Quartz_rot -> (2.99998846471167, 0.0, -180.0) --> (-2.9999884647116706, 3.672242656797708e-16, -180.0)
R5-FF-Quartz_L_rot -> (2.99746213533858, 0.0, -192.848072353728) --> (-2.92254682825203, -0.6662464477641828, 167.16892349374464)
R5-FF-Quartz_R_rot -> (2.99764819337144, 0.0, -192.8550545546) --> (-2.9226471373755443, -0.6666437783192612, 167.1619520128854)
R5-BF-Quartz_C_rot -> (2.99746213827367, 0.0, -192.849665070987) --> (-2.922528332815478, -0.6663276543595867, 167.16733274048184)
R4-FF-Quartz_rot -> (2.99723354693979, 0.0, -192.85469817488) --> (-2.922246969599283, -0.6665334770378889, 167.16230324951863)
R3-FF-Quartz_rot -> (3.00219760291102, 0.0, -192.854255488448) --> (-2.9270924213487937, -0.6676138325705898, 167.16280174191505)
R2-FF-Quartz_rot -> (3.00211416193411, 0.0, -192.856190745833) --> (-2.9269885380534744, -0.6676941146683026, 167.16086793004573)
R1-FF-Quartz_rot -> (2.99234073876644, 0.0, -192.854605386645) --> (-2.917477219642304, -0.6654416188282084, 167.16234047025492)
R6-FF-Quartz_rot -> (2.99990759577741, 0.0, -192.85339642378) --> (-2.924869490215712, -0.6670611997995984, 167.1636337380188)
R5-FF-Quartz_C_rot -> (3.00112628845284, 0.0, -205.716168280968) --> (-2.7043440384089386, -1.3017453377978547, 154.31455974438808)
R5-BF-Quartz_R_rot -> (3.00112628845284, 0.0, -205.716168280968) --> (-2.7043440384089386, -1.3017453377978547, 154.31455974438808)
R5-BF-Quartz_L_rot -> (3.00120919392665, 0.0, -205.713060680952) --> (-2.7044893063925306, -1.3016346422080853, 154.31766638225778)
R4-BF-Quartz_rot -> (3.0013632608332, 0.0, -205.71210812869) --> (-2.7046498092278535, -1.3016564635149939, 154.3186212739505)
R3-BF-Quartz_rot -> (2.99508977792412, 0.0, -205.712670913737) --> (-2.6989818339091567, -1.2989642425520904, 154.31793063732798)
R2-BF-Quartz_rot -> (2.99508977658641, 0.0, -205.716149073874) --> (-2.6989030476325766, -1.2991280216231675, 154.31445544216194)
R1-BF-Quartz_rot -> (3.00388276183127, 0.0, -205.712895402685) --> (-2.7069031319158023, -1.3027855096428733, 154.31788628998174)
R6-BF-Quartz_rot -> (2.99985791843856, 0.0, -205.712527665644) --> (-2.7032833004275973, -1.3010238855689888, 154.31817127779527)
R5-FF-Quartz_L_rot -> (2.99769524242896, 0.0, -218.564731105379) --> (-2.3447422040724324, -1.868237019553336, 141.47350498922765)
R5-FF-Quartz_R_rot -> (2.99769524242896, 0.0, -218.564731105379) --> (-2.3447422040724324, -1.868237019553336, 141.47350498922765)
R5-BF-Quartz_C_rot -> (2.99754602792094, 0.0, -218.564731105379) --> (-2.3446254084702733, -1.868144077343761, 141.47350118165608)
R4-FF-Quartz_rot -> (2.99688373915578, 0.0, -218.56906935807) --> (-2.3439656541022025, -1.8679089865552903, 141.4691473570561)
R3-FF-Quartz_rot -> (3.00227679824193, 0.0, -218.566089283562) --> (-2.3482840270549428, -1.871146409462331, 141.4722642295975)
R2-FF-Quartz_rot -> (3.00198352722274, 0.0, -218.567324024792) --> (-2.3480141759434625, -1.8710143195439608, 141.47102237211075)
R1-FF-Quartz_rot -> (2.99219326952577, 0.0, -218.566622083143) --> (-2.3403741012364803, -1.8648871855825853, 141.47147431688052)
R6-FF-Quartz_rot -> (2.99997060385794, 0.0, -218.568264485091) --> (-2.3464079648331575, -1.8697989517386666, 141.470030776465)
R5-FF-Quartz_C_rot -> (3.00110158076619, 0.0, -231.429669143274) --> (-1.872157760759414, -2.345974224352283, 128.60866734761845)
R5-BF-Quartz_R_rot -> (3.00122070860362, 0.0, -231.425203577693) --> (-1.8724150072441894, -2.3459214132252515, 128.61313731844922)
R5-BF-Quartz_L_rot -> (3.00122070860362, 0.0, -231.425203577693) --> (-1.8724150072441894, -2.3459214132252515, 128.61313731844922)
R4-BF-Quartz_rot -> (3.00130540510166, 0.0, -231.4292535597) --> (-1.8723020709931941, -2.346119920106113, 128.6090882685039)
R3-BF-Quartz_rot -> (2.99512450972046, 0.0, -231.427315284211) --> (-1.8685211530262784, -2.341226832035148, 128.61086927618362)
R2-BF-Quartz_rot -> (2.99512450982552, 0.0, -231.427670729531) --> (-1.868506628445623, -2.3412384217457562, 128.61051372306602)
R1-BF-Quartz_rot -> (3.00363666277075, 0.0, -231.42384907347) --> (-1.8739794757075723, -2.347764891037634, 128.6145540262959)
R6-BF-Quartz_rot -> (2.99997060487138, 0.0, -231.428638705608) --> (-1.8714936188397349, -2.3450567985370587, 128.6096691922372)
R5-FF-Quartz_L_rot -> (2.99739914681653, 0.0, -244.280487044878) --> (-1.3017330533144449, -2.7002124804513903, 115.75019372882579)
R5-FF-Quartz_R_rot -> (2.99739914681665, 0.0, -244.280487044878) --> (-1.3017330533144968, -2.700212480451498, 115.75019372882579)
R5-BF-Quartz_C_rot -> (2.99739914681653, 0.0, -244.280487044878) --> (-1.3017330533144449, -2.7002124804513903, 115.75019372882579)
R4-FF-Quartz_rot -> (2.99718325273568, 0.0, -244.281877637402) --> (-1.3015735916762678, -2.700049613160161, 115.74879752658514)
R3-FF-Quartz_rot -> (3.00224198718392, 0.0, -244.281895192689) --> (-1.3037728608741872, -2.7046064499439155, 115.7488836843796)
R2-FF-Quartz_rot -> (3.00207922007917, 0.0, -244.279578037078) --> (-1.3038114971365204, -2.7044071225445516, 115.75119948288753)
R1-FF-Quartz_rot -> (2.99243842748177, 0.0, -244.2809955397) --> (-1.299551553550356, -2.6957559071762085, 115.74958324247383)
R6-FF-Quartz_rot -> (2.99974950850589, 0.0, -244.283501416188) --> (-1.3026130587393596, -2.7023979724325526, 115.74722495863857)
R5-FF-Quartz_C_rot -> (3.00125022494929, 0.0, -257.136369302394) --> (-0.6687537428365274, -2.925860585848998, 102.88070985908296)
R5-BF-Quartz_R_rot -> (3.00125022494929, 0.0, -257.137963632851) --> (-0.6686722613620852, -2.925879193245751, 102.87911355629159)
R5-BF-Quartz_L_rot -> (3.00106396206322, 0.0, -257.1449454454) --> (-0.668273886590182, -2.9257790690833105, 102.87212098514708)
R4-BF-Quartz_rot -> (3.00127296912344, 0.0, -257.142080858158) --> (-0.6684669144271129, -2.9259494071598113, 102.87499149638286)
R3-BF-Quartz_rot -> (2.99532710771989, 0.0, -257.142804576252) --> (-0.6671033927172109, -2.9201614589780927, 102.87419923645905)
R2-BF-Quartz_rot -> (2.99532710856411, 0.0, -257.143097033639) --> (-0.6670884754789368, -2.9201648648115035, 102.87390641867769)
R1-BF-Quartz_rot -> (3.00365109205349, 0.0, -257.144640332585) --> (-0.6688665964485404, -2.9282976218517343, 102.87245594543576)
R6-BF-Quartz_rot -> (2.99985199787107, 0.0, -257.141816417153) --> (-0.6681633828556433, -2.924561077428889, 102.87524008467025)
```
]
-The text above show the change of angles in degrees before and after transformation.
]


